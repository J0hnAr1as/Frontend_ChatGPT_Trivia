import{r as l,a as W,R as Z}from"./react-b1791c80.js";import{G as w,a as $}from"./vendor-9697875a.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const v of c.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&s(v)}).observe(document,{childList:!0,subtree:!0});function m(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=m(a);fetch(a.href,c)}})();var D={exports:{}},P={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ee=l,te=Symbol.for("react.element"),re=Symbol.for("react.fragment"),se=Object.prototype.hasOwnProperty,ae=ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ne={key:!0,ref:!0,__self:!0,__source:!0};function Q(t,r,m){var s,a={},c=null,v=null;m!==void 0&&(c=""+m),r.key!==void 0&&(c=""+r.key),r.ref!==void 0&&(v=r.ref);for(s in r)se.call(r,s)&&!ne.hasOwnProperty(s)&&(a[s]=r[s]);if(t&&t.defaultProps)for(s in r=t.defaultProps,r)a[s]===void 0&&(a[s]=r[s]);return{$$typeof:te,type:t,key:c,ref:v,props:a,_owner:ae.current}}P.Fragment=re;P.jsx=Q;P.jsxs=Q;D.exports=P;var e=D.exports,H={},B=W;H.createRoot=B.createRoot,H.hydrateRoot=B.hydrateRoot;function oe(t){return w({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"}}]})(t)}function V(t){return w({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(t)}function ce(t){return w({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(t)}function ie(t){return w({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M437.2 403.5L320 215V64h8c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h8v151L10.8 403.5C-18.5 450.6 15.3 512 70.9 512h306.2c55.7 0 89.4-61.5 60.1-108.5zM137.9 320l48.2-77.6c3.7-5.2 5.8-11.6 5.8-18.4V64h64v160c0 6.9 2.2 13.2 5.8 18.4l48.2 77.6h-172z"}}]})(t)}function le(t){return w({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-48 0l-.003-.282-26.064 22.741-62.679-58.5 16.454-84.355 34.303 3.072c-24.889-34.216-60.004-60.089-100.709-73.141l13.651 31.939L256 139l-74.953-41.525 13.651-31.939c-40.631 13.028-75.78 38.87-100.709 73.141l34.565-3.073 16.192 84.355-62.678 58.5-26.064-22.741-.003.282c0 43.015 13.497 83.952 38.472 117.991l7.704-33.897 85.138 10.447 36.301 77.826-29.902 17.786c40.202 13.122 84.29 13.148 124.572 0l-29.902-17.786 36.301-77.826 85.138-10.447 7.704 33.897C442.503 339.952 456 299.015 456 256zm-248.102 69.571l-29.894-91.312L256 177.732l77.996 56.527-29.622 91.312h-96.476z"}}]})(t)}function de(t){return w({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(t)}function ue(t){return w({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(t)}function me(t){return w({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"}}]})(t)}function xe(t){return w({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"}}]})(t)}function he(t){return w({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"}}]})(t)}function O(t){return w({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(t)}function pe(t){return w({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(t)}function fe(t){return w({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M206.86 245.15c-35.88 10.45-59.95 41.2-57.53 74.1 11.4-12.72 28.81-23.7 49.9-30.92l7.63-43.18zM95.81 295L64.08 115.49c-.29-1.62.28-2.62.24-2.65 57.76-32.06 123.12-49.01 189.01-49.01 1.61 0 3.23.17 4.85.19 13.95-13.47 31.73-22.83 51.59-26 18.89-3.02 38.05-4.55 57.18-5.32-9.99-13.95-24.48-24.23-41.77-27C301.27 1.89 277.24 0 253.32 0 176.66 0 101.02 19.42 33.2 57.06 9.03 70.48-3.92 98.48 1.05 126.58l31.73 179.51c14.23 80.52 136.33 142.08 204.45 142.08 3.59 0 6.75-.46 10.01-.8-13.52-17.08-28.94-40.48-39.5-67.58-47.61-12.98-106.06-51.62-111.93-84.79zm97.55-137.46c-.73-4.12-2.23-7.87-4.07-11.4-8.25 8.91-20.67 15.75-35.32 18.32-14.65 2.58-28.67.4-39.48-5.17-.52 3.94-.64 7.98.09 12.1 3.84 21.7 24.58 36.19 46.34 32.37 21.75-3.82 36.28-24.52 32.44-46.22zM606.8 120.9c-88.98-49.38-191.43-67.41-291.98-51.35-27.31 4.36-49.08 26.26-54.04 54.36l-31.73 179.51c-15.39 87.05 95.28 196.27 158.31 207.35 63.03 11.09 204.47-53.79 219.86-140.84l31.73-179.51c4.97-28.11-7.98-56.11-32.15-69.52zm-273.24 96.8c3.84-21.7 24.58-36.19 46.34-32.36 21.76 3.83 36.28 24.52 32.45 46.22-.73 4.12-2.23 7.87-4.07 11.4-8.25-8.91-20.67-15.75-35.32-18.32-14.65-2.58-28.67-.4-39.48 5.17-.53-3.95-.65-7.99.08-12.11zm70.47 198.76c-55.68-9.79-93.52-59.27-89.04-112.9 20.6 25.54 56.21 46.17 99.49 53.78 43.28 7.61 83.82.37 111.93-16.6-14.18 51.94-66.71 85.51-122.38 75.72zm130.3-151.34c-8.25-8.91-20.68-15.75-35.33-18.32-14.65-2.58-28.67-.4-39.48 5.17-.52-3.94-.64-7.98.09-12.1 3.84-21.7 24.58-36.19 46.34-32.37 21.75 3.83 36.28 24.52 32.45 46.22-.73 4.13-2.23 7.88-4.07 11.4z"}}]})(t)}function _(t){return w({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)}function ge(t){return w({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"}}]})(t)}function be(t){return w({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"}}]})(t)}const ve=({question:t,questionType:r,onAnswer:m,isAnswered:s,userAnswer:a,isCorrect:c,feedback:v,isLoading:f})=>{const[x,z]=l.useState(""),[h,g]=l.useState("");l.useEffect(()=>{z(""),g("")},[t]);const p=j=>{j.preventDefault(),m(r==="open-ended"?h:x)},T=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-5 text-gray-800 leading-relaxed",children:t.question}),e.jsx("div",{className:"space-y-3",children:t.options.map((j,y)=>{const C=String.fromCharCode(97+y),N=x===C,S=s&&t.correctAnswer===C,M=s&&N&&!S;return e.jsxs("div",{className:`p-3 rounded-lg border-2 flex items-center cursor-pointer transition-all ${s?S?"bg-green-50 border-green-300 shadow-sm":M?"bg-red-50 border-red-300 shadow-sm":"border-gray-200 opacity-70":N?"bg-[#f0e8ff] border-[#9e61ff]":"border-gray-200 hover:border-[#9e61ff] hover:bg-[#f0e8ff]"}`,onClick:()=>!s&&z(C),children:[e.jsx("div",{className:`min-w-[2rem] w-8 h-8 rounded-full flex items-center justify-center mr-3 ${s?S?"bg-green-500 text-white":M?"bg-red-500 text-white":"bg-gray-200 text-gray-700":N?"bg-[#9e61ff] text-white":"bg-gray-200 text-gray-700"}`,children:C.toUpperCase()}),e.jsx("span",{className:"flex-grow",children:j}),s&&(S?e.jsx(V,{className:"text-green-500 ml-2"}):M?e.jsx(_,{className:"text-red-500 ml-2"}):null)]},y)})}),!s&&e.jsxs("button",{onClick:p,disabled:!x||f,className:"mt-6 w-full py-3 rounded-lg bg-[#9e61ff] text-white hover:bg-[#8a42ff] disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center transition-colors",children:[f?e.jsx(O,{className:"animate-spin mr-2"}):null,"Verificar Respuesta"]}),s&&e.jsxs("div",{className:`mt-6 p-4 rounded-lg ${c?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"} animate-fadeIn`,children:[e.jsx("div",{className:"font-medium mb-2 flex items-center",children:c?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center mr-2",children:"✓"})," ¡Correcto! 👏"]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center mr-2",children:"✗"})," Incorrecto 😕"]})}),e.jsx("p",{className:"text-gray-700",children:v||t.explanation})]})]}),R=()=>e.jsxs("div",{className:"space-y-5",children:[e.jsx("h3",{className:"text-lg font-medium mb-5 text-gray-800 leading-relaxed",children:t.statement}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:["true","false"].map(j=>{const y=x===j,C=j==="true",N=t.isTrue===!0||t.isTrue==="true",S=C===N,M=s&&S,A=s&&y&&!S;return e.jsxs("div",{className:`p-5 rounded-lg border-2 flex items-center justify-center cursor-pointer transition-all ${s?M?"bg-green-50 border-green-400 shadow-md":A?"bg-red-50 border-red-400 shadow-md":"border-gray-200 opacity-70":y?"bg-[#f0e8ff] border-[#9e61ff]":"border-gray-200 hover:border-[#9e61ff] hover:bg-[#f0e8ff]"}`,onClick:()=>!s&&z(j),children:[e.jsx("span",{className:"font-medium text-lg",children:j==="true"?"Verdadero":"Falso"}),s&&(M?e.jsx(V,{className:"text-green-500 ml-2"}):A?e.jsx(_,{className:"text-red-500 ml-2"}):null)]},j)})}),!s&&e.jsxs("button",{onClick:p,disabled:!x||f,className:"mt-6 w-full py-3 rounded-lg bg-[#9e61ff] text-white hover:bg-[#8a42ff] disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center transition-colors",children:[f?e.jsx(O,{className:"animate-spin mr-2"}):null,"Verificar Respuesta"]}),s&&e.jsxs("div",{className:`mt-6 p-4 rounded-lg ${c?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"} animate-fadeIn`,children:[e.jsx("div",{className:"font-medium mb-2 flex items-center",children:c?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center mr-2",children:"✓"})," ¡Correcto! 👏"]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center mr-2",children:"✗"})," Incorrecto 😕"]})}),e.jsx("p",{className:"text-gray-700",children:v||t.explanation})]})]}),L=()=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:t.question}),e.jsxs("form",{onSubmit:p,children:[e.jsx("div",{className:"mb-3",children:e.jsx("textarea",{value:h,onChange:j=>g(j.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none",rows:"5",placeholder:"Escribe tu respuesta aquí...",disabled:s})}),!s&&e.jsxs("button",{type:"submit",disabled:!h.trim()||f,className:"w-full py-2 rounded-lg bg-indigo-600 text-white disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center",children:[f?e.jsx(O,{className:"animate-spin mr-2"}):null,"Enviar Respuesta"]})]}),s&&e.jsxs("div",{className:`mt-4 p-4 rounded-lg ${c?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"}`,children:[e.jsx("div",{className:"font-medium mb-2",children:c?"¡Bien hecho! 👏":"Puede mejorar 🤔"}),e.jsx("p",{className:"mb-3",children:v}),e.jsxs("div",{className:"mt-4 p-3 bg-white rounded border border-gray-200",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-600 mb-1",children:"Respuesta modelo:"}),e.jsx("p",{className:"text-sm",children:t.modelAnswer})]})]})]});switch(r){case"multiple-choice":return T();case"true-false":return R();case"open-ended":return L();default:return e.jsx("div",{children:"Tipo de pregunta no soportado"})}},je=()=>{const[t,r]=l.useState("initial"),[m,s]=l.useState(""),[a,c]=l.useState("mixed"),[v,f]=l.useState(!1),[x,z]=l.useState(null),[h,g]=l.useState(0),[p,T]=l.useState([]),[R,L]=l.useState(""),[j,y]=l.useState(""),C=[{id:"historia",name:"Historia",icon:e.jsx(me,{})},{id:"cultura",name:"Cultura",icon:e.jsx(fe,{})},{id:"deporte",name:"Deporte",icon:e.jsx(le,{})},{id:"ciencia",name:"Ciencia",icon:e.jsx(ie,{})},{id:"geografia",name:"Geografía",icon:e.jsx(de,{})}],N=async d=>{var o,b,n,u;s(d),y(""),f(!0),r("loading");try{const i=new FormData;i.append("topic",d),i.append("questionType","mixed"),i.append("questionCount",5);const E=await $.post("https://triviamantica-backend.vercel.app/api/chat/quiz",i,{headers:{"Content-Type":"multipart/form-data"}});L(E.data.sessionId),z(E.data.quiz),r("quiz")}catch(i){console.error("Error al generar el cuestionario:",i),y(((b=(o=i.response)==null?void 0:o.data)==null?void 0:b.error)||((u=(n=i.response)==null?void 0:n.data)==null?void 0:u.details)||"Error al conectar con el servidor. Por favor verifica que el backend esté funcionando."),r("initial")}finally{f(!1)}},S=async()=>{var d,o,b,n;s("aleatorio"),y(""),f(!0),r("loading");try{const u=new FormData;u.append("topic","trivia aleatoria con una pregunta de cada tema: historia, cultura, deporte, ciencia y geografía"),u.append("questionType","mixed"),u.append("questionCount",5);const i=await $.post("https://triviamantica-backend.vercel.app/api/chat/quiz",u,{headers:{"Content-Type":"multipart/form-data"}});L(i.data.sessionId),z(i.data.quiz),r("quiz")}catch(u){console.error("Error al generar la trivia aleatoria:",u),y(((o=(d=u.response)==null?void 0:d.data)==null?void 0:o.error)||((n=(b=u.response)==null?void 0:b.data)==null?void 0:n.details)||"Error al conectar con el servidor. Por favor verifica que el backend esté funcionando."),r("initial")}finally{f(!1)}},M=async d=>{f(!0);try{const o=x.questions[h],b={sessionId:R,questionIndex:h,userAnswer:d,question:o,questionType:o.type||a};o.type==="multiple-choice"?b.correctAnswer=o.correctAnswer:o.type==="true-false"&&(b.correctAnswer=o.isTrue?"true":"false");let n=0;const u=3;let i;for(;n<u;)try{i=await $.post("https://triviamantica-backend.vercel.app/api/chat/validate",b);break}catch(k){if(n++,console.log(`Intento ${n}/${u} fallido`),n>=u)throw k;const I=1e3*Math.pow(2,n);await new Promise(F=>setTimeout(F,I))}i.data.fallbackResponse&&(i.data=i.data.fallbackResponse);const E=[...p];E[h]={userAnswer:d,...i.data},T(E),h<x.questions.length-1?setTimeout(()=>{g(h+1),f(!1)},1500):setTimeout(()=>{r("results"),f(!1)},1500)}catch(o){console.error("Error al validar la respuesta:",o);const b=x.questions[h],n=b.type||a;let u;if(n==="multiple-choice"){const E=d===b.correctAnswer;u={isCorrect:E,feedback:E?"¡Correcto! 👏 (Validación local debido a un problema de conexión)":"Incorrecto. 😕 (Validación local debido a un problema de conexión)"}}else if(n==="true-false"){const E=d.toLowerCase()==="true",k=b.isTrue===!0||b.isTrue==="true",I=E===k;u={isCorrect:I,feedback:I?"¡Correcto! 👏 (Validación local debido a un problema de conexión)":`Incorrecto. 😕 La respuesta correcta es ${k?"Verdadero":"Falso"}. (Validación local debido a un problema de conexión)`}}else u={isCorrect:null,score:null,feedback:"No se pudo conectar con el sistema de evaluación. Por favor, compara tu respuesta con la respuesta modelo. 🔍"};const i=[...p];i[h]={userAnswer:d,...u},T(i),y("Hubo un problema al validar tu respuesta. Se ha utilizado validación local."),h<x.questions.length-1?setTimeout(()=>{g(h+1),f(!1)},1500):setTimeout(()=>{r("results"),f(!1)},1500)}},A=()=>{s(""),c("mixed"),z(null),g(0),T([]),L(""),y(""),r("initial")},G=()=>{if(!p.length)return 0;const d=p.filter(o=>o.isCorrect).length;return Math.round(d/p.length*100)},q=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 py-6",children:[e.jsxs("div",{className:"bg-[#262454] text-white rounded-full px-6 py-2 inline-flex items-center mb-4",children:[e.jsx(oe,{className:"mr-2"}),e.jsx("span",{className:"font-medium text-[#9e61ff]",children:"Trivia de Conocimientos"})]}),e.jsx("div",{className:"text-center mb-4",children:e.jsx("p",{className:"text-gray-600",children:"Elige un tema para poner a prueba tus conocimientos con 5 preguntas interactivas."})}),j&&e.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg w-full max-w-md border border-red-200",children:j}),e.jsx("div",{className:"w-full max-w-2xl mb-2",children:e.jsxs("button",{onClick:S,className:"bg-[#262454] hover:bg-[#1e1a45] text-white border-2 border-[#9e61ff] rounded-xl p-4 text-center shadow-md hover:shadow-lg transition-all flex items-center justify-center space-x-3 w-full","data-cursor-pointer":!0,children:[e.jsx("div",{className:"bg-[#9e61ff] p-3 rounded-full text-white",children:e.jsx(pe,{})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-lg text-[#9e61ff]",children:"Trivia Mixta"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Una pregunta de cada tema"})]})]})}),e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsx("h3",{className:"text-gray-700 font-medium mb-3",children:"O elige un tema específico:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(d=>e.jsxs("button",{onClick:()=>N(d.id),className:"bg-white hover:bg-[#f0e8ff] border border-gray-200 hover:border-[#d3c0ff] rounded-xl p-4 text-left shadow-sm hover:shadow-md transition-all flex items-center space-x-4","data-cursor-pointer":!0,children:[e.jsx("div",{className:"bg-[#f0e8ff] p-3 rounded-full text-[#7e40f2]",children:d.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-800",children:d.name}),e.jsx("p",{className:"text-sm text-gray-500",children:"5 preguntas de trivia"})]})]},d.id))})]})]}),X=()=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 flex flex-col items-center justify-center min-h-[400px]",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-[#9e61ff] rounded-full animate-spin"})}),e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:["Preparando tu trivia",m==="aleatorio"?" Mixta":` de ${m.charAt(0).toUpperCase()+m.slice(1)}`]}),e.jsx("p",{className:"text-gray-600 text-center max-w-md",children:"Estamos creando preguntas desafiantes para poner a prueba tus conocimientos. Este proceso puede tomar unos momentos..."})]}),Y=()=>{if(!x||!x.questions||x.questions.length===0)return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-red-600 font-bold",children:"Error al generar la trivia"}),e.jsx("p",{className:"mt-2",children:"No se pudieron generar preguntas. Por favor intenta con otro tema."}),e.jsx("button",{onClick:A,className:"mt-4 bg-[#9e61ff] text-white px-4 py-2 rounded-lg",children:"Volver a intentar"})]});const d=x.questions[h],o=p[h],b=o!==void 0,n=d.type||a;return e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsxs("div",{className:"bg-[#262454] p-4 text-white flex items-center justify-between",children:[e.jsxs("h3",{className:"font-bold",children:["Pregunta ",h+1," de ",x.questions.length]}),e.jsx("span",{className:"bg-white text-[#262454] px-3 py-1 rounded-full text-sm font-medium",children:m==="aleatorio"?"Trivia Mixta":`Trivia de ${m.charAt(0).toUpperCase()+m.slice(1)}`})]}),e.jsxs("div",{className:"p-6",children:[e.jsx(ve,{question:d,questionType:n,onAnswer:M,isAnswered:b,userAnswer:o==null?void 0:o.userAnswer,isCorrect:o==null?void 0:o.isCorrect,feedback:o==null?void 0:o.feedback,isLoading:v}),e.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:b?`${h+1===x.questions.length?"Última pregunta":"Siguiente pregunta en breve..."}`:"Responde a la pregunta para continuar"}),e.jsx("div",{className:"flex items-center space-x-2",children:[...Array(x.questions.length)].map((u,i)=>{var I,F;const E=(I=p[i])==null?void 0:I.isCorrect,k=p[i]!==void 0&&!((F=p[i])!=null&&F.isCorrect);return e.jsx("span",{className:`w-3 h-3 rounded-full transition-all duration-300 ${i===h?"w-5 bg-[#9e61ff] ring-2 ring-[#d3c0ff]":E?"bg-green-500":k?"bg-red-500":"bg-gray-300"}`},i)})})]})]})]})},J=()=>{const d=G();return e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-center mb-6",children:m==="aleatorio"?"Resultados de la Trivia Mixta":`Resultados de la Trivia de ${m.charAt(0).toUpperCase()+m.slice(1)}`}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:`rounded-full p-4 ${d>=70?"bg-green-100 text-green-600":d>=40?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:e.jsxs("span",{className:"text-4xl font-bold",children:[d,"%"]})})}),e.jsx("div",{className:"space-y-4 mb-8",children:x.questions.map((o,b)=>{const n=p[b],u=o.type||"multiple-choice";let i="";return!(n!=null&&n.isCorrect)&&u==="multiple-choice"?i=`${o.correctAnswer}) ${o.options[o.correctAnswer.charCodeAt(0)-97]}`:!(n!=null&&n.isCorrect)&&u==="true-false"&&(i=o.isTrue?"Verdadero":"Falso"),e.jsx("div",{className:`p-4 rounded-lg border ${n!=null&&n.isCorrect?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"mr-3 mt-1",children:n!=null&&n.isCorrect?e.jsx("div",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center",children:"✓"}):e.jsx("div",{className:"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:"✗"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:u==="true-false"?o.statement:o.question}),e.jsxs("div",{className:"mt-1 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Tu respuesta:"})," ",(n==null?void 0:n.userAnswer)==="true"?"Verdadero":(n==null?void 0:n.userAnswer)==="false"?"Falso":n==null?void 0:n.userAnswer]}),!(n!=null&&n.isCorrect)&&e.jsxs("div",{className:"mt-1 text-sm text-green-700",children:[e.jsx("span",{className:"font-medium",children:"Respuesta correcta:"})," ",i]}),e.jsx("div",{className:"mt-2 text-sm border-t border-gray-200 pt-2",children:o.explanation})]})]})},b)})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:A,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-medium transition-all shadow-md",children:"Probar Otro Tema"})})]})},K=()=>{switch(t){case"initial":return q();case"loading":return X();case"quiz":return Y();case"results":return J();default:return q()}};return e.jsx("div",{className:"max-w-2xl mx-auto prevent-cursor-issues",children:K()})},ye=()=>{const[t,r]=l.useState({x:0,y:0}),[m,s]=l.useState(!1),[a,c]=l.useState(!1),[v,f]=l.useState("default"),[x,z]=l.useState(!1);if(l.useEffect(()=>{const g=C=>{x||(r({x:C.clientX,y:C.clientY}),s(!0))},p=()=>c(!0),T=()=>{c(!1),z(!0),setTimeout(()=>z(!1),100)},R=()=>s(!1),L=()=>s(!0),j=C=>{const N=C.target;N.tagName==="BUTTON"||N.tagName==="A"||N.role==="button"||N.classList.contains("cursor-pointer")?f("pointer"):N.tagName==="INPUT"||N.tagName==="TEXTAREA"||N.contentEditable==="true"?f("text"):f("default")};window.addEventListener("mousemove",g),window.addEventListener("mousedown",p),window.addEventListener("mouseup",T),document.addEventListener("mouseleave",R),document.addEventListener("mouseenter",L),document.addEventListener("mouseover",j),document.body.style.cursor="none";const y=document.createElement("style");return y.innerHTML=`
      * {
        cursor: none !important;
      }
    `,document.head.appendChild(y),()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mousedown",p),window.removeEventListener("mouseup",T),document.removeEventListener("mouseleave",R),document.removeEventListener("mouseenter",L),document.removeEventListener("mouseover",j),document.body.style.cursor="auto",document.head.removeChild(y)}},[x]),!m)return null;const h=()=>{const g={position:"fixed",pointerEvents:"none",zIndex:9999,transform:"translate(-50%, -50%)",transition:a?"none":"all 0.05s linear",top:t.y,left:t.x};switch(v){case"pointer":return{...g,width:a?"24px":"28px",height:a?"24px":"28px",backgroundColor:"rgba(99, 102, 241, 0.2)",border:"2px solid rgba(99, 102, 241, 0.8)",borderRadius:"50%"};case"text":return{...g,width:"3px",height:"24px",backgroundColor:"#6366f1",borderRadius:"1px",opacity:a?.5:.8};default:return{...g,width:a?"8px":"12px",height:a?"8px":"12px",backgroundColor:a?"#4F46E5":"#6366f1",borderRadius:"50%",opacity:.8}}};return e.jsxs(e.Fragment,{children:[v==="pointer"&&e.jsx("div",{style:{...h(),backgroundColor:"rgba(99, 102, 241, 0.1)",width:"40px",height:"40px",border:"2px solid rgba(99, 102, 241, 0.3)",borderRadius:"50%"}}),e.jsx("div",{style:h()})]})},U=t=>{t?document.body.classList.add("custom-cursor-enabled"):document.body.classList.remove("custom-cursor-enabled")},we=()=>{document.addEventListener("selectstart",r=>{r.target.tagName!=="INPUT"&&r.target.tagName!=="TEXTAREA"&&r.target.contentEditable!=="true"&&r.preventDefault()});let t;document.addEventListener("mousemove",()=>{document.body.classList.add("cursor-moving"),clearTimeout(t),t=setTimeout(()=>{document.body.classList.remove("cursor-moving")},100)}),document.addEventListener("mouseover",r=>{document.body.classList.contains("custom-cursor-enabled")&&getComputedStyle(r.target).cursor!=="none"&&(r.target.dataset.originalCursor=getComputedStyle(r.target).cursor,r.target.style.cursor="none")})},Ne=()=>{const t=localStorage.getItem("customCursorEnabled")==="true";U(t),we(),("ontouchstart"in window||navigator.maxTouchPoints>0)&&document.body.classList.add("touch-device")};typeof window<"u"&&window.addEventListener("DOMContentLoaded",Ne);const Ce=({onToggle:t})=>{const[r,m]=l.useState(!1);l.useEffect(()=>{const a=localStorage.getItem("customCursorEnabled");if(a){const c=a==="true";m(c),t(c)}},[t]);const s=()=>{const a=!r;m(a),localStorage.setItem("customCursorEnabled",a.toString()),U(a),t(a)};return e.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:e.jsxs("button",{onClick:s,className:"flex items-center bg-white border border-gray-300 px-3 py-2 rounded-lg shadow-md hover:shadow-lg transition-all",title:r?"Desactivar cursor personalizado":"Activar cursor personalizado",children:[e.jsx(xe,{className:"text-gray-700 mr-2"}),e.jsx("span",{className:"text-gray-800 font-medium mr-1",children:"Cursor:"}),r?e.jsx(be,{className:"text-2xl text-gray-700"}):e.jsx(ge,{className:"text-2xl text-gray-400"})]})})},ze=()=>{const[t,r]=l.useState(null),[m,s]=l.useState(!0),[a,c]=l.useState(null),v=async()=>{try{s(!0);const p=await $.get("https://triviamantica-backend.vercel.app/api/chat/api-status");r(p.data),c(null)}catch(p){c("Error al verificar el estado de la API"),console.error("Error al verificar estado de API:",p)}finally{s(!1)}};if(l.useEffect(()=>{v();const p=setInterval(()=>{v()},3e4);return()=>clearInterval(p)},[]),m&&!t)return null;if(a)return e.jsx("div",{className:"fixed bottom-4 right-4 bg-red-100 text-red-700 px-4 py-2 rounded-lg shadow-md border border-red-200 z-40",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ce,{className:"mr-2"}),e.jsx("span",{children:"Error al verificar el estado del servidor"})]})});if(!t)return null;const{status:f,requestsThisMinute:x,minuteQuota:z,timeToReset:h}=t,g=f==="limited";return e.jsx("div",{className:`fixed bottom-4 right-4 ${g?"bg-amber-100":"bg-green-100"} px-4 py-2 rounded-lg shadow-md border ${g?"border-amber-200":"border-green-200"} z-40`,children:e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(he,{className:`mr-2 ${g?"text-amber-600":"text-green-600"}`}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${g?"text-amber-700":"text-green-700"}`,children:g?"API: Alta demanda":"API: Disponible"}),e.jsx("div",{className:`text-xs ${g?"text-amber-600":"text-green-600"}`,children:g?`Disponible en ~${Math.ceil(h/1e3)}s`:`Uso: ${x}/${z} solicitudes/min (Flash)`})]})]})})};function Ee(){const[t,r]=l.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-[#f8f7fc] flex flex-col",children:[t&&e.jsx(ye,{}),e.jsx(Ce,{onToggle:r}),e.jsx(ze,{}),e.jsx("div",{className:"container mx-auto px-4 py-8 flex-1",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"bg-[#262454] text-white py-4 px-6 rounded-xl shadow-md mb-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(ue,{className:"text-2xl mr-2 text-[#9e61ff]"}),e.jsx("h1",{className:"text-2xl font-bold text-[#9e61ff]",children:"Triviamania"})]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Hecho con ",e.jsx("span",{className:"text-red-500",children:"❤️"})," por Miguel Gomez"]})]}),e.jsx(je,{})]})})]})}try{const t=document.getElementById("root");if(!t)throw new Error("No se encontró el elemento 'root' en el DOM");H.createRoot(t).render(e.jsx(Z.StrictMode,{children:e.jsx(Ee,{})})),console.log("✅ Aplicación React renderizada correctamente")}catch(t){console.error("❌ Error al inicializar la aplicación React:",t);const r=document.getElementById("root")||document.body;r.innerHTML=`
    <div style="padding: 20px; margin: 20px; background-color: #ffdddd; border: 1px solid #ff6b6b; border-radius: 5px;">
      <h2 style="color: #d63031;">Error al inicializar la aplicación</h2>
      <pre style="background: #f8f8f8; padding: 10px; border-radius: 4px; overflow: auto;">${t.message}</pre>
    </div>
  `}
//# sourceMappingURL=index-c831a394.js.map
